<div
  class="modal-overlay"
  *ngIf="isOpen"
  [@overlayAnimation]
  (click)="onOverlayClick($event)"
>
  <div class="modal-container" [@modalAnimation] (click)="$event.stopPropagation()">
    <!-- Close Button -->
    <button class="close-button" (click)="close()" aria-label="Close modal">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <!-- Modal Body -->
    <div class="modal-body">
        <div class="animation-wrapper">
            <div class="content-box" [@formFieldAnimation]="animationState">
          <p class="title stagger-item">Get in Touch with</p>
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
            <div class="form-group stagger-item">
              <label for="firstName">First Name</label>
              <input
                type="text"
                id="firstName"
                formControlName="firstName"
                placeholder="John"
                [class.error]="hasError('firstName')"
              />
              <span class="error-message" *ngIf="hasError('firstName')">
                {{ getErrorMessage("firstName") }}
              </span>
            </div>

            <div class="form-group stagger-item">
              <label for="lastName">Last Name</label>
              <input
                type="text"
                id="lastName"
                formControlName="lastName"
                placeholder="Smith"
                [class.error]="hasError('lastName')"
              />
              <span class="error-message" *ngIf="hasError('lastName')">
                {{ getErrorMessage("lastName") }}
              </span>
            </div>

            <div class="form-group stagger-item">
              <label for="email">Email</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                placeholder="Example@gmail.com"
                [class.error]="hasError('email')"
              />
              <span class="error-message" *ngIf="hasError('email')">
                {{ getErrorMessage("email") }}
              </span>
            </div>

            <div class="form-group stagger-item">
              <label for="phoneNumber">Phone Number (Optional)</label>
              <input
                type="tel"
                id="phoneNumber"
                formControlName="phoneNumber"
                placeholder="+995 568096543"
                [class.error]="hasError('phoneNumber')"
                (input)="onPhoneInput($event)"
                (keydown)="onPhoneKeydown($event)"
                (focus)="onPhoneFocus($event)"
              />
              <div class="error-message" *ngIf="hasError('phoneNumber')">
                {{ getErrorMessage("phoneNumber") }}
              </div>
            </div>

            <div class="form-group stagger-item">
              <label for="message">Message</label>
              <input
                id="message"
                formControlName="message"
                placeholder="Here Goes Your Interest"
                [class.error]="hasError('message')"
              />
              <span class="error-message" *ngIf="hasError('message')">
                {{ getErrorMessage("message") }}
              </span>
            </div>

            <button
              type="submit"
              [disabled]="contactForm.invalid && submitted"
              [class.disabled]="contactForm.invalid && submitted"
              class="stagger-item"
            >
              Submit the Form
            </button>
          </form>
            </div>
        </div>
    </div>
  </div>
</div>
